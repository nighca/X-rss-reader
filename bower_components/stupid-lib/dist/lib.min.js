/*! lib v1.2.0 | nighca(nighca@live.cn) | Apache License(2.0) */
!function(n){"use strict";var t=Object.prototype.toString.call.bind(Object.prototype.toString),r=function(n,r){if("[object Array]"!==t(n)){for(var e in n)if(n.hasOwnProperty(e)&&r.call(this,n[e],e)===!1)return}else for(var i=0,o=n.length;o>i&&r.call(this,n[i],i)!==!1;i++);},e=function(n,t){if(!n)return n;var e=new n.constructor;return r(n,function(n,r){t(e,n,r)}),e},i=function(n,t){return e(n,function(n,r,e){n[e]=t?t(r,e):r})},o=function(n,t){return e(n,function(n,r,e){t(r,e)&&(n[e]=r)})},c=i,u=function(n,t,e){return n=(e?c(n):n)||{},r(t,function(t,r){n[r]=t}),n},s=function(n,t){var e=[];return r(t,function(n,t){e.push([t,n].map(encodeURIComponent).join("="))}),e.length&&(n=n+(n.indexOf("?")>=0?"&":"?")+e.join("&")),n},a=function(t,r,e){e||(e=r,r={}),r=u({cb:"cb_"+(Math.random()+"").slice(2)},r),t=s(t,r);var i=u(document.createElement("script"),{src:t,async:!0,charset:"utf-8"});n[r.cb]=function(){e.apply(this,arguments),document.head.removeChild(i),i=null},document.head.appendChild(i)},f=function(n,t){var r=n.length,e=[],i=!1;return r?(n.forEach(function(n,o){n(function(n,c){if(!i){if(n)throw i=!0,n;e[o]=c,r--,r||t.apply(null,e)}})}),void 0):(t(),void 0)},l=function(n,t){return n.replace(/\$\{([^\{\}]*)\}/g,function(n,r){var e=t[r.trim()];return null==e?"":e+""})},h={on:HTMLElement.prototype.addEventListener,un:HTMLElement.prototype.removeEventListener,css:function(n,e){var i=this;return"[object String]"===t(n)?this.style.setProperty(n,e):r(n,function(n,t){i.css(t,n)}),this},addClass:function(n){var t=this.className.split(" ");return n.split(" ").forEach(function(n){var r=t.indexOf(n);0>r&&t.push(n)}),this.className=t.join(" "),this},removeClass:function(n){var t=this.className.split(" ");return n.split(" ").forEach(function(n){var r=t.indexOf(n);r>=0&&(t[r]=null)}),this.className=t.filter(function(n){return n}).join(" "),this},show:function(){return this.css("display",""),this},hide:function(){return this.css("display","none"),this},find:function(n){return d(n,this)},findAll:function(n){return m(n,this)},parent:function(){return p(this.parentNode)}},p=function(n){return n?u(n,h):n},d=function(n,r){return p("[object String]"===t(n)?(r||document).querySelector(n):n)},m=function(n,r){return Array.prototype.slice.call("[object String]"===t(n)?(r||document).querySelectorAll(n):n).map(p)};u(d,{type:t,forEach:r,map:i,filter:o,clone:c,extend:u,formatUrl:s,jsonp:a,finish:f,format:l}),u(n,{$:d,$$:m})}(this);